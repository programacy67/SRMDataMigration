/*!@license
* Infragistics.Web.ClientUI infragistics.dv_geometry.js 24.2.20242.58
*
* Copyright (c) 2011-2025 Infragistics Inc.
*
* http://www.infragistics.com/
*
* Depends:
*     jquery-1.4.4.js
*     jquery.ui.core.js
*     jquery.ui.widget.js
*     infragistics.util.js
*     infragistics.ext_core.js
*     infragistics.ext_collections.js
*     infragistics.dv_core.js
*     infragistics.ext_ui.js
*/
(function(factory){if(typeof define==="function"&&define.amd){define(["./infragistics.util","./infragistics.ext_core","./infragistics.ext_collections","./infragistics.dv_core","./infragistics.ext_ui"],factory)}else{factory(igRoot)}})(function($){$.ig=$.ig||{};var $$t={};$.ig.globalDefs=$.ig.globalDefs||{};$.ig.globalDefs.$$r=$$t;var $$0=$.ig.globalDefs.$$0;var $$4=$.ig.globalDefs.$$4;var $$1=$.ig.globalDefs.$$1;var $$w=$.ig.globalDefs.$$w;var $$6=$.ig.globalDefs.$$6;var $$a=$.ig.globalDefs.$$a;$.ig.$currDefinitions=$$t;$.ig.util.bulkDefine(["CollisionManagerLabelsMovedEventHandler:e","QuadTree:m","QuadTreeNode:p","ISmartPlaceable:ai"]);var $a=$.ig.intDivide,$b=$.ig.util.cast,$c=$.ig.util.defType,$d=$.ig.util.defEnum,$e=$.ig.util.getBoxIfEnum,$f=$.ig.util.getDefaultValue,$g=$.ig.util.getEnumValue,$h=$.ig.util.getValue,$i=$.ig.util.intSToU,$j=$.ig.util.nullableEquals,$k=$.ig.util.nullableIsNull,$l=$.ig.util.nullableNotEquals,$m=$.ig.util.toNullable,$n=$.ig.util.toString$1,$o=$.ig.util.u32BitwiseAnd,$p=$.ig.util.u32BitwiseOr,$q=$.ig.util.u32BitwiseXor,$r=$.ig.util.u32LS,$s=$.ig.util.unwrapNullable,$t=$.ig.util.wrapNullable,$u=String.fromCharCode,$v=$.ig.util.castObjTo$t,$w=$.ig.util.compareSimple,$x=$.ig.util.tryParseNumber,$y=$.ig.util.tryParseNumber1,$z=$.ig.util.numberToString,$0=$.ig.util.numberToString1,$1=$.ig.util.parseNumber;$d("SmartPosition:ah",false,false,{LeftTop:0,CenterTop:1,RightTop:2,LeftCenter:3,CenterCenter:4,RightCenter:5,LeftBottom:6,CenterBottom:7,RightBottom:8});$d("CollisionGeometryType:f",false,false,{Box:0,Boxes:1,PieSlice:2,Circle:3});$d("LabelCollisionManagerCollisionMode:b",false,false,{SimulatedAnnealing:0,Greedy:1,GreedyCenterOfMass:2,RadialBestFit:3,RadialInsideStart:4,RadialInsideEnd:5,RadialOutsideEnd:6,RadialCenter:7});$d("LabelCollisionPlacementPositions:a",false,false,{Top:0,Left:1,Right:2,Bottom:3,TopLeft:4,TopRight:5,BottomLeft:6,BottomRight:7,SliceCenter:8,SliceInnerEnd:9,SliceOuterEnd:10,SliceBestFit:11});$c("LabelCollisionManager:c","Object",{r:false,a:null,init:function(a,b,c,d,e,f,g,h,i,j,k){this.r=false;this.a=new Array(8);this.ak=new $$4.w($$t.$d.$type);this.a4=0;this.al=new $$4.y($$t.$d.$type,0);this.t=false;this.s=false;this.a5=0;this.u=false;this.q=false;$.ig.$op.init.call(this);this.f=this.g();this.r=k!=null;this._b0=c;this._a2=a;this._az=b;this._k=new $$t.m(a,b,8,8);this._j=f;this._e=d;this._am=new $$4.y($$t.$a.$type,0);this._am.add(0);this._am.add(5);this._am.add(7);this._am.add(2);this._am.add(3);this._am.add(6);this._am.add(1);this._am.add(4);var l=0;for(var m=0;m<g.length;m++){if(this._am.contains(g[m])){this._am.remove(g[m]);this._am.insert(l,g[m]);l++}}if(k!=null){this._an=new $$4.y($$t.$a.$type,0);for(var n=0;n<this.a.length;n++){this.a[n]=false}for(var o=0;o<k.length;o++){this.a[k[o]]=true;this._an.add(k[o])}this.b=k}else{this._an=new $$4.y($$t.$a.$type,0);this._an.add(0);this._an.add(5);this._an.add(7);this._an.add(2);this._an.add(3);this._an.add(6);this._an.add(1);this._an.add(4);if(this.ah(this._j)){this._an=new $$4.y($$t.$a.$type,0);this._an.add(10);this._an.add(11);this._an.add(8);this._an.add(9)}var p=0;for(var q=0;q<g.length;q++){if(this._an.contains(g[q])){this._an.remove(g[q]);this._an.insert(p,g[q]);p++}}}this._a0=e;this._a8=h;this._a7=i;this.q=j},h:function(){if($.ig.TestRandomness.prototype.instance().testRandomnessSource()!=null){return $.ig.TestRandomness.prototype.instance().testRandomnessSource()}return new $.ig.DefaultRandomnessSource(1,$$t.$c.bc)},g:function(){var a=this.h();return a.getGenerator("LabelCollision")},o:function(a,b,c,d,e){var f=0;var g=0;switch(b){case 0:f=a._s;g=a._t-a._q-a._o-this._a0-d;break;case 4:f=a._s-a._r-a._p-this._a0-c;g=a._t-a._q-a._o-this._a0-d;break;case 5:f=a._s+a._r+a._p+this._a0+c;g=a._t-a._q-a._o-this._a0-d;break;case 1:f=a._s-a._r-a._p-this._a0-c;g=a._t;break;case 2:f=a._s+a._r+a._p+this._a0+c;g=a._t;break;case 3:f=a._s;g=a._t+a._q+a._o+this._a0+d;break;case 6:f=a._s-a._r-a._p-this._a0-c;g=a._t+a._q+a._o+this._a0+d;break;case 7:f=a._s+a._r+a._p+this._a0+c;g=a._t+a._q+a._o+this._a0-d;break;case 8:{var h=this.l(a);if(h!=null){a._b=8;f=h.d;g=h.e}else{return null}break}case 9:{var i=this.m(a);if(i!=null){a._b=9;f=i.d;g=i.e}else{return null}break}case 10:{var j=this.n(a);if(j!=null){a._b=10;f=j.d;g=j.e}else{return null}break}case 11:{var k=this.l(a);if(k!=null){a._b=8;f=k.d;g=k.e}else{var l=this.m(a);if(l!=null){f=l.d;g=l.e}else{var m=this.m(a);if(m!=null){f=m.d;g=m.e}else{return null}}}break}}var n=new $$t.o;n.d=f;n.e=g;n.g=a._p;n.f=a._o;n.i=a;if(this.ab(n)&&!e){return null}return n},ab:function(a){var b=a.d-a.g;var c=a.d+a.g;var d=a.e-a.f;var e=a.e+a.f;var f=this._b0;if(b<f.left()||c>f.right()||d<f.top()||e>f.bottom()){return true}return false},as:function(a){var b=a.d-a.g;var c=a.d+a.g;var d=a.e-a.f;var e=a.e+a.f;var f=this._b0;if(b<f.left()){return f.left()-b}return 0},at:function(a){var b=a.d-a.g;var c=a.d+a.g;var d=a.e-a.f;var e=a.e+a.f;var f=this._b0;if(c>f.right()){return c-f.right()}return 0},_an:null,labelsMoved:null,_p:null,_k:null,_j:0,_e:null,_am:null,_a0:0,_a8:0,_a7:0,_b0:null,_a2:0,_az:0,_v:false,ak:null,a4:0,be:function(a){this.a4++;this.ak.f(a);a._i=this.ak.d();if(a._e==null){a._e=new $$t.o;a._e.d=a._s;a._e.e=a._t;a._e.g=a._r;a._e.f=a._q;a._e.i=a;this._k.c(a._e)}if(a._a!=null){if(a._d==null){a._d=$$t.$o.a(a._a.boundingBox());a._d.i=a;this._k.c(a._d)}}},br:function(a){if(a._e!=null){this._k.d(a._e);a._e=null}if(a._d!=null){this._k.d(a._d);a._d=null}if(a._c!=null){this._k.d(a._c);a._c=null}if(a._i!=null){this.ak.h(a._i);a._i=null}this.a4--},bo:function(a){if(a._e!=null&&a._e.d==a._s&&a._e.e==a._t){return}if(a._e!=null){this._k.d(a._e)}if(a._d!=null){this._k.d(a._d);a._d=null}var b=NaN;var c=NaN;if(a._e==null){a._e=new $$t.o;a._e.i=a}else{if(a._c!=null){b=a._c.d-a._e.d;c=a._c.e-a._e.e}}a._e.d=a._s;a._e.e=a._t;a._e.g=a._r;a._e.f=a._q;this._k.c(a._e);if(a._a!=null){if(a._d==null){a._d=$$t.$o.a(a._a.boundingBox());a._d.i=a;this._k.c(a._d)}}if(a._c!=null){this._k.d(a._c);if(a._b==8||a._b==9||a._b==10){b=NaN}if(!$.ig.util.isNaN(b)){a._c=new $$t.o;a._c.d=a._e.d+b;a._c.e=a._e.e+c;a._c.i=a;a._c.g=a._p;a._c.f=a._o;a._k=a._c.d;a._l=a._c.e;this._k.c(a._c)}else{a._c=this.o(a,a._b,0,0,true);if(a._c!=null){this.bm(a);a._k=a._c.d;a._l=a._c.e;this._k.c(a._c)}else{this.bl(a)}}}},bn:function(a){this._k.d(a._c);a._c.d=a._k;a._c.e=a._l;a._c.g=a._p;a._c.f=a._o;this._k.c(a._c)},bv:function(){this.s=false;{var a=this.ak.c();while(a!=null){a._c._h=false;if(a._c._c!=null){this._k.d(a._c._c);a._c._c=null;if(a._c._j!=null){a._c._j.clear()}}a=a.a}this.a5=0}this.a3=0;this.ao=.4;this.ap=.4;var b=$.ig.truncate(Math.ceil(this._a7/150*this._a8));this.a6=b;this.bi()},al:null,t:false,s:false,bg:function(){this.al.clear()},bf:function(){this.s=true},bk:function(){this.t=false;if(this.s){return}this.bi()},bi:function(){this.al.clear();this.bp(false);if(this._j==0){for(var a=0;a<this._a8;a++){this.ap=this.ao*(this.a6-this.a3)/this.a6;this.bj();this.a3++;if(this.a3>this.a6){if(this._p!=null){this._p()}return}}if(this.labelsMoved!=null){var c=this.al.getEnumerator();while(c.moveNext()){var b=c.current()}this.labelsMoved(this.al)}if(this.a5>0){if(!this.t){this.t=true;this._e.executeDelayed(this.bk.runOn(this),150)}}else{if(this._p!=null){this._p()}}}else{if(this._j==2){var d=this.ak.c();this._k.k();while(d!=null){var e=d._c;if(e._c!=null){this._k.d(e._c);e._c=null;e._f=false;e._j=null}d=d.a}this.a5=0;this.bp(true)}if(this.labelsMoved!=null){this.labelsMoved(this.al)}}},a6:0,a3:0,ao:0,ap:0,f:null,bj:function(){var a=$.ig.truncate(Math.round((this.a4-1)*this.f.nextDouble()));var b=0;var c=this.ak.c();var d=this.ay(null);var e=30;var f=60;while(c!=null){var g=c._c;var h=0;var i=0;if(this.q){h=this.f.nextDouble()*g._p*2;i=this.f.nextDouble()*g._o*2}if(b==a){var j=$.ig.truncate(Math.round((this._an.count()-1)*this.f.nextDouble()));while(this._an.__inner[j]==g._b){j=$.ig.truncate(Math.round((this._an.count()-1)*this.f.nextDouble()))}var k=g._c;var l=this.o(g,this._an.__inner[j],h,i,false);var m=0;while(l==null){if(m>=e){h=0;i=0}if(m>=f){break}j=$.ig.truncate(Math.round((this._an.count()-1)*this.f.nextDouble()));l=this.o(g,this._an.__inner[j],h,i,false);m++}g._c=l;if(k!=null){this._k.d(k)}if(l!=null){this._k.c(l);var n=this.ay(g);var o=d>n;if(!o){var p=Math.exp(-(n-d)/this.ap);if(this.f.nextDouble()<p){o=true}}if(!o&&k!=null){this._k.d(l);this._k.c(k);g._c=k;if(!this.u){this.ay(g)}}else{g._b=this._an.__inner[j];g._k=g._c.d;g._l=g._c.e;this.al.add(g)}}else{if(!this.u){this.ay(g)}g._f=false;this.al.add(g)}break}b++;c=c.a}},a5:0,u:false,q:false,b:null,z:function(a,b){return this.aa(a,b)},aa:function(a,b){if(!a.c(b)){return false}if(a.i==null){return true}var c=a.i;if(c._a==null){if(b.i!=null){var d=b.i;if(d._d==b){var e=d._a;return e.e(a.j())}else{return true}}}var f=c._a;if(c._d==a){return f.e(b.j())}if(b.i!=null){var g=b.i;if(g._d==b){if(this.ah(this._j)){return false}var h=g._a;return h.e(a.j())}else{return true}}return true},ay:function(a){if(this.u){var b=0;var c=this.ak.c();while(c!=null){var d=c._c;var e=d._f;d._f=false;if(d._c!=null){var f=this._k.e(d._c);for(var g=0;g<f.count();g++){var h=f.__inner[g].l.c();while(h!=null){var i=h._c;if(this.ai(i,d)){h=h.a;continue}if(this.z(d._c,i)){d._f=true;b+=d._c.h(i)}h=h.a}}if(d._f!=e){this.al.add(d)}}c=c.a}return b}else{if(a!=null){var j=new $$4.r($$t.$d.$type,0);var k=new $$4.r($$t.$d.$type,0);var l=new $$4.r($$t.$d.$type,0);var m=new $$4.y($$t.$d.$type,0);if(a._j!=null){for(var n=0;n<a._j.count();n++){j.add(a._j.__inner[n]);k.add(a._j.__inner[n])}}var o=a._f;a._f=false;if(a._c!=null){var p=this._k.e(a._c);for(var q=0;q<p.count();q++){var r=p.__inner[q].l.c();while(r!=null){var s=r._c;if(this.ai(s,a)){r=r.a;continue}if(this.z(a._c,s)&&!l.contains(s.i)){a._f=true;l.add(s.i);m.add(s.i)}r=r.a}}p=this._k.e(a._e);for(var t=0;t<p.count();t++){var u=p.__inner[t].l.c();while(u!=null){var v=u._c;if(this.ai(v,a)){u=u.a;continue}if(this.w(a._e,v)){u=u.a;continue}if(this.z(a._e,v)&&!l.contains(v.i)){a._f=true;l.add(v.i);m.add(v.i)}u=u.a}}if(a._f!=o){this.al.add(a)}if(a._j!=null){for(var w=a._j.count()-1;w>=0;w--){if(!l.contains(a._j.__inner[w])){var x=a._j.__inner[w];var y=false;if(x!=a){y=x._j.remove(a)}else{}a._j.removeAt(w);if(x._j.count()==0&&y){this.a5--}var z=j.remove(x);if(j.count()==0&&z){this.a5--}}}}for(var aa=0;aa<m.count();aa++){var ab=m.__inner[aa];if(!j.contains(ab)){if(a._j==null){a._j=new $$4.y($$t.$d.$type,0)}a._j.add(ab);if(j.count()==0){this.a5++}j.add(ab);if(ab!=a){if(ab._j==null){ab._j=new $$4.y($$t.$d.$type,0)}if(ab._j.count()==0){this.a5++}ab._j.add(a)}}}}}return this.a5}},w:function(a,b){if((a.i!=null&&a.i._e==a||a.i!=null&&a.i._d==a)&&(a.i!=null&&a.i._e==b||a.i!=null&&a.i._d==b)){return true}return false},a9:function(){return this.a5},_bd:null,_bb:null,_aq:0,_ar:0,bs:function(a,b,c){this._b0=c;var d=new $$t.m(a,b,this._k.i,this._k.f);var e=this.ak.c();while(e!=null){d.c(e._c._e);if(e._c._d!=null){d.c(e._c._d)}if(e._c._c!=null){d.c(e._c._c)}e=e.a}this._k=d;this._a2=a;this._az=b},af:function(){var a=this.ak.c();while(a!=null){a._c._f=false;if(a._c._c!=null){if(this.ab(a._c._c)){return true}}a=a.a}return false},x:function(){var a=this.ak.c();var b=this._an;while(a!=null){if(a._c._c!=null){if(this.ab(a._c._c)){var c=a._c;for(var d=0;d<b.count();d++){var e=this.o(c,b.__inner[d],0,0,false);if(e!=null){return true}}}}a=a.a}return false},ba:function(){var a=this.ak.c();while(a!=null){a._c._f=false;a=a.a}a=this.ak.c();while(a!=null){var b=a._c._c;var c=a._c._e;var d=this._k.e(c);for(var e=0;e<d.count();e++){var f=d.__inner[e].l.c();while(f!=null){var g=f._c;if(this.w(c,g)){f=f.a;continue}if(this.z(c,g)){var h=f._c.i;if(!this.ai(f._c,a._c)){h._f=true;a._c._f=true}}f=f.a}}if(b==null){return-1}d=this._k.e(b);for(var i=0;i<d.count();i++){var j=d.__inner[i].l.c();while(j!=null){var k=j._c;if(this.z(b,k)){var l=j._c.i;if(!this.ai(j._c,a._c)){l._f=true;a._c._f=true}}j=j.a}}a=a.a}var m=0;var n=1.7976931348623157e308;var o=-1.7976931348623157e308;var p=1.7976931348623157e308;var q=-1.7976931348623157e308;a=this.ak.c();while(a!=null){if(a._c._f){m++;if(!$.ig.util.isNaN(a._c._s)&&!$.ig.util.isNaN(a._c._t)){n=Math.min(n,a._c._s);o=Math.max(o,a._c._s);p=Math.min(p,a._c._t);q=Math.max(q,a._c._t)}}a=a.a}this._aq=Math.abs(o-n);this._ar=Math.abs(q-p);return m},bp:function(a){var b=this.ak.c();if(this.ah(this._j)){this.bq();return}while(b!=null){var c=b._c;if(c._c==null||a){var d=false;if(a){var e=this._k.a(c._s,c._t,1.5);var f=this.c(e);if(f!=null){for(var g=0;g<f.length;g++){var h=f[g];var i=this.o(c,h,0,0,false);if(i==null){continue}var j=this._k.e(i);d=true;for(var k=0;k<j.count();k++){var l=j.__inner[k].l.c();while(l!=null){var m=l._c;if(this.z(i,m)){d=false;break}l=l.a}}if(d){c._c=i;c._b=h;c._k=c._c.d;c._l=c._c.e;this._k.c(c._c);this.al.add(c);break}}}}if(!d){d=this.ad(c,false)}if(!d){if(c._c==null){this.ad(c,true)}}}b=b.a}},bq:function(){var a=this.ak.c();var b=new $$4.y($$t.$d.$type,0);var c=new $$4.y($$t.$d.$type,0);var d=new $$4.y($$t.$d.$type,0);var e=new $$4.y($$t.$d.$type,0);var f=this._j;while(a!=null){var g=a._c;var h=g._a;if(g._a==null||h.type()!=2){g._h=true;this.al.add(g);a=a.a;continue}var i=h;var j=this.bz(i);var k=g;var l=k._p+k._p;var m=k._o+k._o;var n=(i.startAngle()+i.endAngle())/2;n=$.ig.MathUtil.prototype.f(n);var o=$$a.$ae.empty();if(f==3||f==7){var p=this.l(k);if(p!=null){if(this.y(p,g)){if(f==7){this.bl(k);a=a.a;continue}}else{k._b=8;this.bw(k,p);d.add(k);this.al.add(k);this._k.c(p);a=a.a;continue}}if(k._h){a=a.a;continue}}if(f==5||f==3){var q=this.m(k);if(q!=null){if(this.y(q,g)){if(f==5){this.bl(k);a=a.a;continue}}else{k._b=9;e.add(k);this.bw(k,q);this.al.add(k);this._k.c(q);a=a.a;continue}}if(k._h){a=a.a;continue}}var r=this.n(k);if(r!=null){k._b=10;this.bw(k,r);this.al.add(k);this._k.c(k._c);if(k._c.d<j.__x){c.add(k)}else{b.add(k)}}else{this.bl(k)}a=a.a}this.bu(b);this.bt(b);this.bu(c);this.bt(c)},bw:function(a,b){var c=new $$4.y($$t.$d.$type,0);var d=new $$4.r($$t.$d.$type,0);if(!this.u){c=new $$4.y($$t.$d.$type,0)}this.bh(a,b,c,d);var e=a._e;if(e==null){e=new $$t.o;e.i=a;e.d=a._s;e.e=a._t;e.g=a._r;e.f=a._q;this._k.c(e);a._e=e}this.bh(a,e,c,d);this.aj(a,c);a._c=b;a._k=a._c.d;a._l=a._c.e},bh:function(a,b,c,d){if(this.y(b,a)){var e=this._k.e(b);for(var f=0;f<e.count();f++){var g=e.__inner[f].l.c();while(g!=null){var h=g._c;if(this.z(b,h)){if(!this.u){if(!d.contains(h.i)){c.add(h.i);d.add(h.i)}}}g=g.a}}}},n:function(a){var b=null;var c=a._a;if(c==null){return null}var d=this.bz(c);var e=a._p+a._p;var f=a._o+a._o;var g=(c.startAngle()+c.endAngle())/2;g=$.ig.MathUtil.prototype.f(g);var h=$$t.$ab.u(d,g,c.radius()+this._a0);a._b=10;this.bm(a);var i=$$t.$c.av(d,c.radius(),c,a);var j=$$t.$ab.u(d,g,i);var k=new $$a.ae(0,j.__x-e/2,j.__y-f/2,e,f);g=$$t.$ab.n(g);if(g<90&&g>=0){k=new $$a.ae(0,h.__x,h.__y,e,f)}else if(g<180&&g>=90){k=new $$a.ae(0,h.__x-e,h.__y,e,f)}else if(g<270&&g>=180){k=new $$a.ae(0,h.__x-e,h.__y-f,e,f)}else{k=new $$a.ae(0,h.__x,h.__y-f,e,f)}if(k.y()<0){k=new $$a.ae(0,k.x(),0,k.width(),k.height())}if(k.bottom()>this._b0.bottom()){k=new $$a.ae(0,k.x(),this._b0.bottom()-k.height(),k.width(),k.height())}b=function(){var $ret=new $$t.o;$ret.d=k.left()+k.width()/2;$ret.e=k.top()+k.height()/2;$ret.g=k.width()/2;$ret.f=k.height()/2;$ret.i=a;return $ret}();return b},bm:function(a){if(a==null){return}var b=!a._h;if(b){return}a._h=false;this.al.add(a)},bl:function(a){if(a==null){return}var b=!a._h;if(!b){return}a._h=true;this.al.add(a)},m:function(a){var b=null;var c=a._a;if(c==null){return null}var d=this.bz(c);var e=a._p+a._p;var f=a._o+a._o;var g=(c.startAngle()+c.endAngle())/2;g=$.ig.MathUtil.prototype.f(g);var h=$$t.$c.av(d,c.radius(),c,a);var i=$$t.$ab.u(d,g,h);var j=new $$a.ae(0,i.__x-e/2,i.__y-f/2,e,f);var k=this.ae(c,j,a,d);if(k||this._j==5){a._b=9;if(!k&&this._j==5){this.bl(a)}else{b=function(){var $ret=new $$t.o;$ret.d=j.left()+j.width()/2;$ret.e=j.top()+j.height()/2;$ret.g=j.width()/2;$ret.f=j.height()/2;$ret.i=a;return $ret}();this.bm(a);return b}}return b},l:function(a){var b=null;var c=a._a;if(c==null){return null}var d=this.bz(c);var e=a._p+a._p;var f=a._o+a._o;var g=(c.startAngle()+c.endAngle())/2;g=$.ig.MathUtil.prototype.f(g);var h=c.innerRadius();var i=$$t.$ab.u(d,g,c.radius()-(c.radius()-h)/2);var j=new $$a.ae(0,i.__x-a._p,i.__y-a._o,e,f);var k=this.ae(c,j,a,i);if(k||this._j==7){a._b=8;if(!k&&this._j==7){this.bl(a)}else{this.bm(a);b=function(){var $ret=new $$t.o;$ret.d=j.left()+j.width()/2;$ret.e=j.top()+j.height()/2;$ret.g=j.width()/2;$ret.f=j.height()/2;$ret.i=a;return $ret}();return b}}return b},av:function(a,b,c,d){var e=c.startAngle()+c.endAngle()/2;e=$.ig.MathUtil.prototype.f(e);var f=e*Math.PI/180;var g=1;var h=$$t.$ab.u({__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},e,g);var i=$$t.$c.by(c,d);var j=Math.sqrt(i.__x*i.__x+i.__y*i.__y);var k={__x:i.__x/j,__y:i.__y/j,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var l=$$t.$c.aw(h,k);var m=j/b;var n=l*m;var o=n;var p=$$t.$ab.j({__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},h);var q=$$t.$ab.j({__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},k);if(q<p){o=-o}var r=$$t.$ab.u(a,(f+o)*180/Math.PI,b);var s=$$t.$c.bx(c,d,r);var t=Math.sqrt((s.__x-a.__x)*(s.__x-a.__x)+(s.__y-a.__y)*(s.__y-a.__y));var u=t-5;return u},bx:function(a,b,c){var d=a.startAngle()+a.endAngle()/2;d=$.ig.MathUtil.prototype.f(d);var e=$$t.$ab.n(d);var f=b._p;var g=b._o;if(e>=0&&e<=90){return{__x:c.__x-f,__y:c.__y-g,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}if(e>=90&&e<=180){return{__x:c.__x+f,__y:c.__y-g,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}if(e>=180&&e<=270){return{__x:c.__x+f,__y:c.__y+g,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}return{__x:c.__x-f,__y:c.__y+g,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},aw:function(a,b){var c=a.__x*b.__x+a.__y*b.__y;var d=Math.sqrt(a.__x*a.__x+a.__y*a.__y);var e=Math.sqrt(b.__x*b.__x+b.__y*b.__y);var f=Math.acos(c/(d*e));return f},by:function(a,b){var c=a.startAngle()+a.endAngle()/2;c=$.ig.MathUtil.prototype.f(c);var d=$$t.$ab.n(c);var e=b._p;var f=b._o;if(d>=0&&d<=90){return{__x:e,__y:f,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}if(d>=90&&d<=180){return{__x:-e,__y:f,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}if(d>=180&&d<=270){return{__x:-e,__y:-f,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}return{__x:e,__y:-f,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},au:function(a,b,c,d){var e=$.ig.MathUtil.prototype.g(a-b,c-d);var f=Math.asin((c-d)/e)*180/Math.PI;if(a<b){f=180-f}if(a>b){f=360+f}if(f==360){f=0}return $$t.$ab.n(f)},bu:function(a){var b=new Array(a.count());for(var c=0;c<a.count();c++){var d=a.__inner[c];var e=d._a;var f=this.bz(e);var g=(e.startAngle()+e.endAngle())/2;g=$.ig.MathUtil.prototype.f(g);var h=$$t.$ab.u(f,g,e.radius());b[c]=h.__y}for(var i=0;i<a.count();i++){for(var j=i+1;j<a.count();j++){if(b[i]>=b[j]){var k=a.__inner[i];a.__inner[i]=a.__inner[j];a.__inner[j]=k;var l=b[i];b[i]=b[j];b[j]=l}}}},bt:function(a){if(a.count()==0){return}var b=this._b0.width();var c=this._b0.height();var d=a.count();var e=a.__inner[0]._a;var f=e.radius();var g=this.bz(e);var h=true;var i=0;var j=Number.POSITIVE_INFINITY;var k=Number.NEGATIVE_INFINITY;i=this.ba();var l=0;var n=a.getEnumerator();while(n.moveNext()){var m=n.current();j=Math.min(j,m._o+m._o);k=Math.max(k,m._o+m._o);l+=m._o+m._o}if(l>c){h=false}if(h&&i>0){for(var o=0;o<d-1;o++){for(var p=o+1;p<d;p++){var q=a.__inner[o];var r=a.__inner[p];if(q._c.c(r._c)){var s=r._c;var t=s.e-s.f;var u=s.g+s.g;var v=$.ig.MathUtil.prototype.f(this.ax(r));var w=Math.min(q._c.e+q._c.f+.01,c-j);var x=this._a0+f;var y=Math.abs(g.__y-(t+j/2));var z=Math.sqrt(Math.abs(x*x-y*y));var aa=$$t.$ab.n(v);if(aa>90&&aa<270){z=(u+z)*-1}var ab=g.__x+z;var ac=function(){var $ret=new $$t.o;$ret.d=ab+s.g;$ret.e=w+s.f;$ret.g=s.g;$ret.f=s.f;$ret.i=r;return $ret}();if(r._c!=null){this._k.d(r._c)}this.bw(r,ac);this._k.c(r._c)}}}for(var ad=d-1;ad>0;ad--){for(var ae=ad-1;ae>=0;ae--){var af=a.__inner[ad];var ag=a.__inner[ae];if(af._c.c(ag._c)){var ah=ag._c;var ai=ah.e-ah.f;var aj=ah.g+ah.g;var ak=Math.max(af._c.e-af._c.f-j-.01,0);var al=this._a0+f;var am=Math.abs(g.__y-(ai+j/2));var an=Math.sqrt(Math.abs(al*al-am*am));var ao=$$t.$ab.n($.ig.MathUtil.prototype.f(this.ax(ag)));if(ao>90&&ao<270){an=(aj+an)*-1}var ap=g.__x+an;var aq=function(){var $ret=new $$t.o;$ret.d=ap+ah.g;$ret.e=ak+ah.f;$ret.g=ah.g;$ret.f=ah.f;$ret.i=ag;return $ret}();if(ag._c!=null){this._k.d(ag._c)}this.bw(ag,aq);this._k.c(ag._c)}}}}var as=a.getEnumerator();while(as.moveNext()){var ar=as.current();var at=ar._c.j();if(at.left()>b||at.right()<0){this.bl(ar);if(ar._c!=null){this._k.d(ar._c)}this.aj(ar,null);ar._c=null}else if(at.left()<0){if(!this._v){this.bl(ar);if(ar._c!=null){this._k.d(ar._c)}this.aj(ar,null);ar._c=null}}else if(at.right()>b){if(!this._v){this.bl(ar);if(ar._c!=null){this._k.d(ar._c)}this.aj(ar,null);ar._c=null}}}},ax:function(a){var b=a._a;return(b.startAngle()+b.endAngle())/2},a1:function(a){var b=Math.round(a*Math.pow(10,5))/Math.pow(10,5);return b},ag:function(a){return $$t.$c.a1($.ig.MathUtil.prototype.f(Math.abs(a.endAngle()-a.startAngle())))==360},ae:function(a,b,c,d){if(a==null){return false}var e=this.bz(a);var f=Math.min(a.startAngle(),a.endAngle());var g=Math.max(a.startAngle(),a.endAngle());f=$.ig.MathUtil.prototype.f(f);g=$.ig.MathUtil.prototype.f(g);var h=false;var i=false;var j=$$t.$ab.u(e,f,a.radius());var k=$$t.$ab.u(e,g,a.radius());f=$$t.$c.au(j.__x,e.__x,j.__y,e.__y);g=$$t.$c.au(k.__x,e.__x,k.__y,e.__y);if(this.ag(a)){i=true}var l;l=$.ig.MathUtil.prototype.g(b.right()-e.__x,b.top()-e.__y);if(l>a.radius()){return false}l=$.ig.MathUtil.prototype.g(b.right()-e.__x,b.bottom()-e.__y);if(l>a.radius()){return false}l=$.ig.MathUtil.prototype.g(b.left()-e.__x,b.top()-e.__y);if(l>a.radius()){return false}l=$.ig.MathUtil.prototype.g(b.left()-e.__x,b.bottom()-e.__y);if(l>a.radius()){return false}if(i){return true}if(f>g){f=f-360;h=true}var m;m=$$t.$c.au(b.right(),e.__x,b.top(),e.__y);if(h&&m>180&&m<360){m=m-360}if(m<f||m>g){return false}m=$$t.$c.au(b.right(),e.__x,b.bottom(),e.__y);if(h&&m>180&&m<360){m=m-360}if(m<f||m>g){return false}m=$$t.$c.au(b.left(),e.__x,b.top(),e.__y);if(h&&m>180&&m<360){m=m-360}if(m<f||m>g){return false}m=$$t.$c.au(b.left(),e.__x,b.bottom(),e.__y);if(h&&m>180&&m<360){m=m-360}if(m<f||m>g){return false}return true},bz:function(a){return{__x:a.centerX(),__y:a.centerY(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},ah:function(a){return a==7||a==3||a==6||a==4||a==5},ad:function(a,b){var c=this._an;var d=a._h;a._h=false;var e=false;if(!e){for(var f=0;f<c.count();f++){var g=this.o(a,c.__inner[f],0,0,b);if(a._h){break}if(g==null){continue}e=!this.y(g,a);var h=a._e;if(h==null){h=new $$t.o;h.i=a;h.d=a._s;h.e=a._t;h.g=a._r;h.f=a._q;this._k.c(h);a._e=h}if(a._a!=null){if(a._d==null){a._d=$$t.$o.a(a._a.boundingBox());a._d.i=a;this._k.c(a._d)}}var i=this.y(h,a);e=e&&!i;if(e){a._c=g;if(c.__inner[f]!=11){a._b=c.__inner[f]}a._k=a._c.d;a._l=a._c.e;this._k.c(a._c);this.al.add(a);break}}}if(!e&&!a._h){var j=Number.POSITIVE_INFINITY;var k=0;var l=null;for(var m=0;m<c.count();m++){var n=0;var o=null;var p=new $$4.r($$t.$d.$type,0);if(!this.u){o=new $$4.y($$t.$d.$type,0)}var q=this.o(a,c.__inner[m],0,0,b);if(q==null){continue}var r=this._k.e(q);for(var s=0;s<r.count();s++){var t=r.__inner[s].l.c();while(t!=null){var u=t._c;if(this.z(q,u)){n+=q.h(u);if(!this.u){if(!p.contains(u.i)){o.add(u.i);p.add(u.i)}}}t=t.a}}var v=a._e;if(v==null){v=new $$t.o;v.i=a;v.d=a._s;v.e=a._t;v.g=a._r;v.f=a._q}r=this._k.e(v);for(var w=0;w<r.count();w++){var x=r.__inner[w].l.c();while(x!=null){var y=x._c;if(this.ai(x._c,a)){x=x.a;continue}if(this.w(v,y)){x=x.a;continue}if(this.z(v,y)){if(!this.u){if(!p.contains(y.i)){o.add(y.i);p.add(y.i)}}}x=x.a}}if(n<j){var z=this.o(a,c.__inner[m],0,0,b);if(z!=null){j=n;k=m;if(!this.u){l=o}}}}var aa=this.o(a,c.__inner[k],0,0,b);a._f=true;if(!e&&aa==null&&d){a._h=true}else{a._h=false}if(!this.aj(a,l)){return false}a._c=aa;a._b=c.__inner[k];a._k=a._c.d;a._l=a._c.e;this._k.c(a._c);this.al.add(a)}return e},aj:function(a,b){if(!this.u){if(a._j!=null&&a._j.count()>0){this.a5--;for(var c=a._j.count()-1;c>=0;c--){var d=a._j.__inner[c];if(d._j!=null){d._j.remove(a);if(d._j.count()==0){this.a5--}}}}if(b==null){a._f=false;this.al.add(a);return false}a._j=b;if(b.count()>0){this.a5++}for(var e=0;e<b.count();e++){var f=b.__inner[e];if(f._j==null){f._j=new $$4.y($$t.$d.$type,0)}if(!f._j.contains(a)){if(f._j.count()==0){this.a5++}f._j.add(a)}}}return true},ai:function(a,b){if(a.i==b&&(a.i==null||a.i._d!=a)){return true}return false},y:function(a,b){var c=false;var d=this._k.e(a);for(var e=0;e<d.count();e++){var f=d.__inner[e].l.c();while(f!=null){if(this.ai(f._c,b)){f=f.a;continue}var g=f._c;if(this.w(a,g)){f=f.a;continue}if(this.z(a,g)){c=true;break}f=f.a}}return c},c:function(a){var b=new Array(3);var c=$$t.$ab.j({__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},{__x:a.a,__y:a.b,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName});c=c*180/Math.PI;c=$$t.$ab.n(c);if(c>=0&&c<=22.5||c>=337.5&&c<=360){b[0]=2;b[1]=5;b[2]=7}if(c>=22.5&&c<=67.5){b[0]=2;b[1]=7;b[2]=3}if(c>=67.5&&c<=112.5){b[0]=7;b[1]=3;b[2]=6}if(c>=112.5&&c<=157.5){b[0]=3;b[1]=6;b[2]=1}if(c>=157.5&&c<=202.5){b[0]=6;b[1]=1;b[2]=4}if(c>=202.5&&c<=247.5){b[0]=1;b[1]=4;b[2]=0}if(c>=247.5&&c<=292.5){b[0]=4;b[1]=0;b[2]=5}if(c>=292.5&&c<=337.5){b[0]=0;b[1]=5;b[2]=2}if(this.r){var d=0;for(var e=0;e<b.length;e++){if(this.a[b[e]]){d++}}if(d==0){return null}var f=0;var g=new Array(d);for(var h=0;h<b.length;h++){if(this.a[b[h]]){g[f]=b[h];f++}}b=g}return b},i:function(a,b){var c=false;var d=null;var e=new $$t.o;e.d=a.__x;e.e=a.__y;e.g=5;e.f=5;var f=this._k.e(e);for(var g=0;g<f.count();g++){var h=f.__inner[g].l.c();while(h!=null){var i=h._c;if(i.i._e==i){h=h.a;continue}if(this.z(e,i)){d=i;c=true;break}h=h.a}}if(c){return d.i}else{return null}},ac:function(){return this._aq<10&&this._ar<10},$type:new $.ig.Type("LabelCollisionManager",$.ig.$ot)},true);$c("LabelCollisionInfo:d","Object",{init:function(){$.ig.$op.init.call(this)},_i:null,_s:0,_t:0,_r:0,_q:0,_e:null,_p:0,_o:0,_m:0,_n:0,_w:0,_x:0,_k:0,_l:0,_u:0,_v:0,_b:0,_c:null,_y:null,_f:false,_a:null,_d:null,_g:false,_j:null,_h:false,$type:new $.ig.Type("LabelCollisionInfo",$.ig.$ot)},true);$c("CollisionGeometry:g","Object",{init:function(){$.ig.$op.init.call(this)},type:function(){},boundingBox:function(){},d:function(a){},e:function(a){return this.collidesWith(new $$t.l(0,a))},collidesWith:function(a){if(!this.boundingBox().intersectsWith(a)){return false}return this.d(a)},collidesWithPoint:function(a,b){var c=new $$t.l(1,a,b,0,0);if(!this.boundingBox().intersectsWith(c)){return false}return this.d(c)},$type:new $.ig.Type("CollisionGeometry",$.ig.$ot)},true);$c("BoxCollisionGeometry:h","CollisionGeometry",{type:function(){return 0},g:null,init:function(a){$$t.$g.init.call(this);this.g=a},boundingBox:function(){return this.g},d:function(a){return true},$type:new $.ig.Type("BoxCollisionGeometry",$$t.$g.$type)},true);$c("BoxesCollisionGeometry:i","CollisionGeometry",{type:function(){return 0},g:null,init:function(a){this.h=$$t.$l.empty();$$t.$g.init.call(this);this.g=a},h:null,boundingBox:function(){if(this.h.isEmpty()){var a=$$t.$l.empty();for(var b=0;b<this.g.length;b++){a.union(this.g[b])}this.h=a}return this.h},d:function(a){for(var b=0;b<this.g.length;b++){if(a.intersectsWith(this.g[b])){return true}}return false},$type:new $.ig.Type("BoxesCollisionGeometry",$$t.$g.$type)},true);$c("CircleCollisionGeometry:j","CollisionGeometry",{type:function(){return 0},h:0,i:0,j:0,init:function(a,b,c){this.g=$$t.$l.empty();$$t.$g.init.call(this);this.h=a;this.i=b;this.j=c},g:null,boundingBox:function(){if(this.g.isEmpty()){this.g=new $$t.l(1,this.h-this.j,this.i-this.j,this.j+this.j,this.j+this.j)}return this.g},d:function(a){var b={__x:a.left(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var c={__x:a.right(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var d={__x:a.right(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var e={__x:a.left(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var f={__x:this.h,__y:this.i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var g=this.j;return $$t.$ab.c(b,f,g)||$$t.$ab.c(c,f,g)||$$t.$ab.c(d,f,g)||$$t.$ab.c(e,f,g)},$type:new $.ig.Type("CircleCollisionGeometry",$$t.$g.$type)},true);$c("PieSliceCollisionGeometry:k","CollisionGeometry",{type:function(){return 2},k:0,l:0,o:0,p:0,m:0,centerX:function(){return this.k},centerY:function(){return this.l},radius:function(){return this.o},startAngle:function(){return this.p},endAngle:function(){return this.m},init:function(a,b,c,d,e,f){this.g=$$t.$l.empty();$$t.$g.init.call(this);this.k=a;this.l=b;this.p=e;this.m=f;this.o=c;this.n=d},g:null,boundingBox:function(){if(this.g.isEmpty()){var a=$$t.$ab.y({__x:this.k,__y:this.l,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},this.p,this.m,this.o);this.g=new $$t.l(0,a)}return this.g},n:0,innerRadius:function(){return this.n},d:function(a){var b={__x:a.left(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var c={__x:a.right(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var d={__x:a.right(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var e={__x:a.left(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var f={__x:this.k,__y:this.l,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var g=this.o;var h=this.n;if($$t.$ab.f(b,f,this.p,this.m,g,h)||$$t.$ab.f(c,f,this.p,this.m,g,h)||$$t.$ab.f(d,f,this.p,this.m,g,h)||$$t.$ab.f(e,f,this.p,this.m,g,h)){return true}return false},collidesWithHeavy:function(a){if(!this.boundingBox().intersectsWith(a)){return false}return this.collidesWithCoreHeavy(a)},collidesWithCoreHeavy:function(a){if(this.d(a)){return true}var b={__x:a.left(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var c={__x:a.right(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var d={__x:a.right(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var e={__x:a.left(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,
typeName:$.ig.$op.typeName};var f={__x:this.k+this.n*Math.cos((this.m+this.p)/2),__y:this.l+this.n*Math.sin((this.m+this.p)/2),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};if(f.__x<a.right()&&f.__x>a.left()&&f.__y<a.bottom()&&f.__y>a.top()){return true}if(this.h(b,c,this.o)||this.h(b,e,this.o)||this.h(d,c,this.o)||this.h(e,d,this.o)){return true}if(this.h(b,c,this.n)||this.h(b,e,this.n)||this.h(d,c,this.n)||this.h(e,d,this.n)){return true}var g=Math.cos(this.p);var h=Math.sin(this.p);var i=Math.cos(this.m);var j=Math.sin(this.m);var k={__x:this.k+this.n*g,__y:this.l+this.n*h,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var l={__x:this.k+this.o*g,__y:this.l+this.o*h,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var m={__x:this.k+this.n*i,__y:this.l+this.n*j,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var n={__x:this.k+this.o*i,__y:this.l+this.o*j,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};if($$t.$ab.a(k,l,b,c)||$$t.$ab.a(k,l,b,e)||$$t.$ab.a(k,l,d,c)||$$t.$ab.a(k,l,e,d)){return true}if($$t.$ab.a(m,n,b,c)||$$t.$ab.a(m,n,b,e)||$$t.$ab.a(m,n,d,c)||$$t.$ab.a(m,n,e,d)){return true}return false},h:function(a,b,c){var $self=this;var d={__x:this.k,__y:this.l,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var e,f;var g=function(){var h=$$t.$ab.p($self.k,$self.l,c,a,b,e,f);e=h.p5;f=h.p6;return h.ret}();if(g>0){if($$t.$ab.b($$t.$ab.j(d,e),this.p,this.m)){return true}}if(g>1){if($$t.$ab.b($$t.$ab.j(d,f),this.p,this.m)){return true}}return false},$type:new $.ig.Type("PieSliceCollisionGeometry",$$t.$g.$type)},true);$c("CollisionRect:l","Object",{init:function(a,b){if(a>0){switch(a){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments);break;case 3:this.init3.apply(this,arguments);break;case 4:this.init4.apply(this,arguments);break;case 5:this.init5.apply(this,arguments);break}return}$.ig.$op.init.call(this);this.left(b.left());this.top(b.top());this.width(b.width());this.height(b.height())},init1:function(a,b,c,d,e){$.ig.$op.init.call(this);this.top(c);this.left(b);this.width(d);this.height(e)},init2:function(a,b,c,d){$.ig.$op.init.call(this);this.top(c);this.left(b);this.width(d.width());this.height(d.height())},init3:function(a,b,c){$.ig.$op.init.call(this);this.top(Math.min(b.__y,c.__y));this.left(Math.min(b.__x,c.__x));this.width(Math.max(Math.max(b.__x,c.__x)-this.left(),0));this.height(Math.max(Math.max(b.__y,c.__y)-this.top(),0))},init4:function(a,b,c){$.ig.$op.init.call(this);this.top(b.__y);this.left(b.__x);this.width(c.width());this.height(c.height())},init5:function(a){$.ig.$op.init.call(this);this.top(0);this.left(0);this.width(0);this.height(0)},u:0,x:function(a){if(arguments.length===1){this.u=a;this.q=this.u;this.r=this.q+this.t;return a}else{return this.u}},v:0,y:function(a){if(arguments.length===1){this.v=a;this.s=this.v;this.o=this.s+this.p;return a}else{return this.v}},t:0,width:function(a){if(arguments.length===1){this.t=a;this.r=this.q+this.t;return a}else{return this.t}},p:0,height:function(a){if(arguments.length===1){this.p=a;this.o=this.s+this.p;return a}else{return this.p}},s:0,top:function(a){if(arguments.length===1){this.s=a;this.y(this.s);return a}else{return this.s}},q:0,left:function(a){if(arguments.length===1){this.q=a;this.x(this.q);return a}else{return this.q}},r:0,right:function(a){if(arguments.length===1){this.r=a;this.t=this.r-this.q;return a}else{return this.r}},o:0,bottom:function(a){if(arguments.length===1){this.o=a;this.p=this.o-this.s;return a}else{return this.o}},isEmpty:function(){return this.t<0},empty:function(){return new $$t.l(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)},equals:function(a){if($$t.$l.l_op_Equality(a,null)){return false}if(a.x()==this.x()&&a.y()==this.y()&&a.width()==this.width()&&a.height()==this.height()){return true}return false},f:function(a,b){return a>=this.u&&a-this.t<=this.u&&b>=this.v&&b-this.p<=this.v},containsLocation:function(a,b){return!this.isEmpty()&&this.f(a,b)},containsPoint:function(a){return this.containsLocation(a.__x,a.__y)},containsRect:function(a){return!this.isEmpty()&&!a.isEmpty()&&(this.u<=a.u&&this.v<=a.v&&this.u+this.t>=a.u+a.t)&&this.v+this.p>=a.v+a.p},inflate:function(a,b){this.x(this.x()-a);this.y(this.y()-b);this.width(this.width()+a*2);this.height(this.height()+b*2);if(this.t<0||this.p<0){this.ah()}},ah:function(){this.top(Number.POSITIVE_INFINITY);this.left(Number.POSITIVE_INFINITY);this.width(Number.NEGATIVE_INFINITY);this.height(Number.NEGATIVE_INFINITY)},intersectsWith:function(a){if(this.isEmpty()||a.isEmpty()){return false}return a.left()<this.right()&&this.left()<a.right()&&a.top()<this.bottom()&&this.top()<a.bottom()},intersect:function(a){if(!this.intersectsWith(a)){this.ah()}else{var b=Math.max(this.x(),a.x());var c=Math.max(this.y(),a.y());var d=Math.min(this.x()+this.width(),a.x()+a.width())-b;var e=Math.min(this.y()+this.height(),a.y()+a.height())-c;if(d<0){d=0}if(e<0){e=0}this.t=d;this.p=e;this.u=b;this.v=c;this.q=this.u;this.s=this.v;this.r=this.q+this.t;this.o=this.s+this.p}},union:function(a){if(this.isEmpty()){this.u=a.x();this.v=a.y();this.t=a.width();this.p=a.height();this.q=this.u;this.s=this.v;this.r=this.q+this.t;this.o=this.s+this.p;return}if(!a.isEmpty()){var b=Math.min(this.x(),a.x());var c=Math.min(this.y(),a.y());var d=this.width();var e=this.height();if(a.width()==Number.POSITIVE_INFINITY||this.width()==Number.POSITIVE_INFINITY){d=Number.POSITIVE_INFINITY}else{var f=Math.max(this.right(),a.right());d=f-b}if(a.height()==Number.POSITIVE_INFINITY||this.height()==Number.POSITIVE_INFINITY){e=Number.POSITIVE_INFINITY}else{var g=Math.max(this.bottom(),a.bottom());e=g-c}this.u=b;this.v=c;this.t=d;this.p=e;this.q=this.u;this.s=this.v;this.r=this.q+this.t;this.o=this.s+this.p}},equals1:function(a){if(a==null){return $.ig.$op.equals.call(this,a)}var b=a;return b.left()==this.left()&&b.top()==this.top()&&b.width()==this.width()&&b.height()==this.height()},getHashCode:function(){return this.u^this.v^this.t^this.p},copy:function(){return new $$t.l(1,this.x(),this.y(),this.width(),this.height())},l_op_Equality:function(a,b){if(a==null){return b==null}else if(b==null){return false}return a.u==b.u&&a.v==b.v&&a.t==b.t&&a.p==b.p},l_op_Inequality:function(a,b){if(a==null){return b!=null}else if(b==null){return true}return a.u!=b.u||a.v!=b.v||a.t!=b.t||a.p!=b.p},$type:new $.ig.Type("CollisionRect",$.ig.$ot)},true);$c("QuadTree:m","Object",{init:function(a,b,c,d){$.ig.$op.init.call(this);this._b=new $$t.p;this._b.b=this;this._b.c=new $$t.o;var e=Math.max(a,b);this._b.c.d=e/2;this._b.c.e=e/2;this._b.c.g=e/2;this._b.c.f=e/2;this.f=d;this.i=c},_b:null,f:0,i:0,c:function(a){return this._b.i(a)},d:function(a){return this._b.k(a)},e:function(a){var b=new $$4.y($$t.$p.$type,0);this._b.x(a,b);return b},j:function(){this._b.w()},k:function(){this._b.z()},g:function(){return this.h(this._b,new $$4.r($$t.$o.$type,0))},h:function(a,b){if(a.j()){var c=0;var d=a.l.c();while(d!=null){if(!b.contains(d._c)){c+=1;b.add(d._c)}d=d.a}return c}var e=this.h(a.f(),b);e+=this.h(a.e(),b);e+=this.h(a.h(),b);e+=this.h(a.g(),b);return e},a:function(a,b,c){return this._b.d(a,b,c)},$type:new $.ig.Type("QuadTree",$.ig.$ot)},true);$c("QuadTreeForceVector:n","Object",{init:function(){$.ig.$op.init.call(this)},a:0,b:0,$type:new $.ig.Type("QuadTreeForceVector",$.ig.$ot)},true);$c("QuadTreeBoundingBox:o","Object",{init:function(){$.ig.$op.init.call(this)},d:0,e:0,g:0,f:0,c:function(a){if(this.d+this.g<a.d-a.g||this.e+this.f<a.e-a.f||this.d-this.g>a.d+a.g||this.e-this.f>a.e+a.f){return false}return true},i:null,h:function(a){var b=this.d-this.g;var c=this.e-this.f;var d=this.d+this.g;var e=this.e+this.f;var f=a.d-a.g;var g=a.e-a.f;var h=a.d+a.g;var i=a.e+a.f;var j=Math.max(b,f);var k=Math.min(d,h);var l=Math.max(c,g);var m=Math.min(e,i);return(k-j)*(m-l)},b:function(a){var b=new $$t.o;b.d=a.left()+a.width()/2;b.e=a.top()+a.height()/2;b.f=a.height()/2;b.g=a.width()/2;return b},a:function(a){var b=new $$t.o;b.d=a.left()+a.width()/2;b.e=a.top()+a.height()/2;b.f=a.height()/2;b.g=a.width()/2;return b},j:function(){var a=new $$a.ae(0,this.d-this.g,this.e-this.f,this.g+this.g,this.f+this.f);return a},$type:new $.ig.Type("QuadTreeBoundingBox",$.ig.$ot)},true);$c("QuadTreeNode:p","Object",{init:function(){this.t=0;this.q=0;$.ig.$op.init.call(this);this.m=0;this.n=0;this.o=0;this.l=new $$4.w($$t.$o.$type);this.a=new Array(4);this.c=new $$t.o;for(var a=0;a<4;a++){this.a[a]=null}},k:function(a){if(!this.c.c(a)){return false}var b=this.f()==null&&this.e()==null&&this.h()==null&&this.g()==null;if(b){var c=this.l.c();while(c!=null){if(c._c==a){this.l.h(c);this.t--;return true}c=c.a}return false}this.f().k(a);this.e().k(a);this.h().k(a);this.g().k(a);return false},j:function(){return this.f()==null&&this.e()==null&&this.h()==null&&this.g()==null},x:function(a,b){if(!this.c.c(a)){return}if(this.j()){b.add(this);return}this.f().x(a,b);this.e().x(a,b);this.h().x(a,b);this.g().x(a,b)},w:function(){if(this.f()!=null){this.f().w()}if(this.e()!=null){this.e().w()}if(this.h()!=null){this.h().w()}if(this.g()!=null){this.h().w()}if(this.f().j()&&this.f().t==0&&this.e().j()&&this.e().t==0&&this.h().j()&&this.h().t==0&&this.g().j()&&this.g().t==0){this.f(null);this.e(null);this.h(null);this.g(null);return}},i:function(a){if(!this.c.c(a)){return false}var b=this.f()==null&&this.e()==null&&this.h()==null&&this.g()==null;if(b&&this.t<this.b.f){this.l.f(a);this.t++;return true}else if(b&&this.q<this.b.i){this.y()}else if(b){this.l.f(a);this.t++;return true}var c=this.f().i(a);c=this.e().i(a)||c;c=this.h().i(a)||c;c=this.g().i(a)||c;return c},y:function(){this.f(new $$t.p);this.e(new $$t.p);this.h(new $$t.p);this.g(new $$t.p);var a=this.c.g/2;this.f().c.d=this.c.d-a;this.f().c.e=this.c.e-a;this.e().c.d=this.c.d+a;this.e().c.e=this.c.e-a;this.h().c.d=this.c.d-a;this.h().c.e=this.c.e+a;this.g().c.d=this.c.d+a;this.g().c.e=this.c.e+a;for(var b=0;b<4;b++){this.a[b].q=this.q+1;this.a[b].c.g=a;this.a[b].c.f=a;this.a[b].b=this.b}var c=this.l.c();while(c!=null){var d=c._c;this.f().i(d);this.e().i(d);this.h().i(d);this.g().i(d);c=c.a}this.l.g();this.t=0},z:function(){if(this.j()){var a=0;var b=0;var c=this.l.c();while(c!=null){var d=c._c;a+=d.d;b+=d.e;c=c.a}if(this.t==0){this.m=0;this.n=0;this.o=0}else{this.m=a/this.t;this.n=b/this.t;this.o=this.t}}else{this.f().z();this.h().z();this.e().z();this.g().z();var e=0;var f=0;var g=0;for(var h=0;h<4;h++){g+=this.a[h].o;e+=this.a[h].m*this.a[h].o;f+=this.a[h].n*this.a[h].o}if(this.o>0){this.m=e/g;this.n=f/g}this.o=g}},d:function(a,b,c){var d=Math.sqrt((a-this.m)*(a-this.m)+(b-this.n)*(b-this.n));var e=this.c.g*2;if(e/d<c||this.j()){var f=(a-this.m)*this.o/(d*d);var g=(b-this.n)*this.o/(d*d);return function(){var $ret=new $$t.n;$ret.a=f;$ret.b=g;return $ret}()}else{var h=0;var i=0;for(var j=0;j<4;j++){var k=this.a[j].d(a,b,c);h+=k.a;i+=k.b}return function(){var $ret=new $$t.n;$ret.a=h;$ret.b=i;return $ret}()}},b:null,l:null,t:0,c:null,q:0,a:null,f:function(a){if(arguments.length===1){this.a[0]=a;return a}else{return this.a[0]}},e:function(a){if(arguments.length===1){this.a[1]=a;return a}else{return this.a[1]}},h:function(a){if(arguments.length===1){this.a[2]=a;return a}else{return this.a[2]}},g:function(a){if(arguments.length===1){this.a[3]=a;return a}else{return this.a[3]}},m:0,n:0,o:0,$type:new $.ig.Type("QuadTreeNode",$.ig.$ot)},true);$c("Clipper:q","Object",{i:function(a){if(arguments.length===1){if(this.b!=null){this.b.clear()}this.b=null;this.h=a;var b=this.h;if(this.c!=null){this.c.dst(b);b=this.c;this.b=this.c}if(this.a!=null){this.a.dst(b);b=this.a;this.a.__nextClipper=this.b;this.b=this.a}if(this.d!=null){this.d.dst(b);b=this.d;this.d.__nextClipper=this.b;this.b=this.d}if(this.e!=null){this.e.dst(b);b=this.e;this.e.__nextClipper=this.b;this.b=this.e}this.g=b;return a}else{return this.h}},g:null,b:null,h:null,c:null,a:null,d:null,e:null,init:function(a,b,c){if(a>0){switch(a){case 1:this.init1.apply(this,arguments);break}return}$.ig.$op.init.call(this);this.c=function(){var $ret=new $$t.s;$ret._edge=b.left();$ret._isClosed=c;return $ret}();this.a=function(){var $ret=new $$t.t;$ret._edge=b.bottom();$ret._isClosed=c;return $ret}();this.d=function(){var $ret=new $$t.u;$ret._edge=b.right();$ret._isClosed=c;return $ret}();this.e=function(){var $ret=new $$t.v;$ret._edge=b.top();$ret._isClosed=c;return $ret}()},init1:function(a,b,c,d,e,f){$.ig.$op.init.call(this);this.c=!$.ig.util.isNaN(b)?function(){var $ret=new $$t.s;$ret._edge=b;$ret._isClosed=f;return $ret}():null;this.a=!$.ig.util.isNaN(c)?function(){var $ret=new $$t.t;$ret._edge=c;$ret._isClosed=f;return $ret}():null;this.d=!$.ig.util.isNaN(d)?function(){var $ret=new $$t.u;$ret._edge=d;$ret._isClosed=f;return $ret}():null;this.e=!$.ig.util.isNaN(e)?function(){var $ret=new $$t.v;$ret._edge=e;$ret._isClosed=f;return $ret}():null},j:function(a){this.g.add(a)},k:function(a,b){var c=a;var d=a.count();var e=new Array(4);e[0]=this.e;e[1]=this.d;e[2]=this.a;e[3]=this.c;var f=0;var g=0;var h=0;var i=0;if(this.e!=null){f=this.e._edge}if(this.d!=null){g=this.d._edge}if(this.a!=null){h=this.a._edge}if(this.c!=null){i=this.c._edge}var j=false;var k;var l=e.length;var m=l+1;var n=null;var o;var p;var q=0;var r=new Array(16);var s=0;var t=new Array(16);var u=0;var v=1;var w;var x;if(b){u=d-1;v=-1}for(var y=u;y<d&&y>=0;y+=v){o=c.item(y);r[q]=o;q++;for(k=0;k<m;k++){if(k<l){n=e[k];if(n==null){continue}}for(p=0;p<q;p++){o=r[p];x=o.__x;w=o.__y;if(k>=l){this.h.add(o);continue}j=k==0&&w>=f||k==1&&x<=g||k==2&&w<=h||k==3&&x>=i;if(n.c){n.c=false;n.j=o}else{if(true){if(j){if(!n.g){t[s]=n.k(n.l,o);s++}else{if(!n._isClosed&&!n.f){t[s]=n.l;s++;n.f=true}}t[s]=o;s++}else{if(n.g){if(!n._isClosed&&!n.f){t[s]=n.l;s++;n.f=true}t[s]=n.k(n.l,o);s++}}}}n.l=o;n.g=j}var z=r;r=t;t=z;q=s;s=0}}},f:function(a){if(arguments.length===1){if(this.c!=null){this.c._isClosed=a}if(this.a!=null){this.a._isClosed=a}if(this.d!=null){this.d._isClosed=a}if(this.e!=null){this.e._isClosed=a}return a}else{return(this.c==null||this.c._isClosed)&&(this.a==null||this.a._isClosed)&&(this.d==null||this.d._isClosed)&&(this.e==null||this.e._isClosed)}},$type:new $.ig.Type("Clipper",$.ig.$ot)},true);$c("EdgeClipper:r","Object",{init:function(){this.c=true;this.f=false;$.ig.$op.init.call(this)},dst:function(a){if(arguments.length===1){if(this._dst!=a){this.c=true;this._dst=a}return a}else{return this._dst}},_dst:null,__nextClipper:null,nextClipper:function(a){if(arguments.length===1){this.__nextClipper=a;return a}else{return this.__nextClipper}},c:false,j:null,l:null,g:false,_isClosed:false,f:false,add:function(a){var b=this.e(a);if(this.c){this.c=false;this.j=a}else{if(true){if(b){if(!this.g){this._dst.add(this.k(this.l,a))}else{if(!this._isClosed&&!this.f){this._dst.add(this.l);this.f=true}}this._dst.add(a)}else{if(this.g){if(!this._isClosed&&!this.f){this._dst.add(this.l);this.f=true}this._dst.add(this.k(this.l,a))}}}}this.l=a;this.g=b},clear:function(){if(this._isClosed&&!this.c){this.add(this.j)}if(this.__nextClipper!=null){this.__nextClipper.clear()}this.c=true;this.f=false},e:function(a){},k:function(a,b){},getEnumerator:function(){return null},isReadOnly:function(){return false},count:function(){return 0},remove:function(a){return false},removeAt:function(a){},copyTo:function(a,b){},contains:function(a){return false},item:function(a,b){if(arguments.length===2){return b}else{return{__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}},insert:function(a,b){},indexOf:function(a){return-1},$type:new $.ig.Type("EdgeClipper",$.ig.$ot,[$$0.$bz.$type.specialize($$a.$y.$type)])},true);$c("LeftClipper:s","EdgeClipper",{init:function(){$$t.$r.init.call(this)},_edge:0,e:function(a){return a.__x>=this._edge},k:function(a,b){return{__x:this._edge,__y:a.__y+(b.__y-a.__y)*(this._edge-a.__x)/(b.__x-a.__x),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},$type:new $.ig.Type("LeftClipper",$$t.$r.$type)},true);$c("BottomClipper:t","EdgeClipper",{init:function(){$$t.$r.init.call(this)},_edge:0,e:function(a){return a.__y<=this._edge},k:function(a,b){return{__x:a.__x+(b.__x-a.__x)*(this._edge-a.__y)/(b.__y-a.__y),__y:this._edge,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},$type:new $.ig.Type("BottomClipper",$$t.$r.$type)},true);$c("RightClipper:u","EdgeClipper",{init:function(){$$t.$r.init.call(this)},_edge:0,e:function(a){return a.__x<=this._edge},k:function(a,b){return{__x:this._edge,__y:a.__y+(b.__y-a.__y)*(this._edge-a.__x)/(b.__x-a.__x),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},$type:new $.ig.Type("RightClipper",$$t.$r.$type)},true);$c("TopClipper:v","EdgeClipper",{init:function(){$$t.$r.init.call(this)},_edge:0,e:function(a){return a.__y>=this._edge},k:function(a,b){return{__x:a.__x+(b.__x-a.__x)*(this._edge-a.__y)/(b.__y-a.__y),__y:this._edge,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},$type:new $.ig.Type("TopClipper",$$t.$r.$type)},true);$c("Flattener:w","Object",{init:function(){$.ig.$op.init.call(this)},d:function(a,b,c,d){var e=new $$4.y($$0.$ap.$type,0);$$t.$w.c(e,b,c,0,a-1,d);return e},c:function(a,b,c,d,e,f){return $$t.$w.b(a,function(g){return g},b,c,d,e,f)},a:function(a,b,c,d,e,f,g){return $$t.$w.b(a,function(h){return b.item(h)},c,d,e,f,g)},b:function(a,b,c,d,e,f,g){if(e>f){return a}var h=c(b(e));var i=d(b(e));while(($.ig.util.isNaN(h)||$.ig.util.isNaN(i))&&e<f){++e;h=c(b(e));i=d(b(e))}var j=c(b(f));var k=d(b(f));while(($.ig.util.isNaN(j)||$.ig.util.isNaN(k))&&e<f){--f;j=c(b(f));k=d(b(f))}if(e==f){a.add(b(e));return a}a.add(b(e));$$t.$w.e(a,b,c,d,e,f,g);a.add(b(f));return a},e:function(a,b,c,d,e,f,g){var h=c(b(e));var i=d(b(e));while(($.ig.util.isNaN(h)||$.ig.util.isNaN(i))&&e<f){++e;h=c(b(e));i=d(b(e))}var j=c(b(f));var k=d(b(f));while(($.ig.util.isNaN(j)||$.ig.util.isNaN(k))&&e<f){--f;j=c(b(f));k=d(b(f))}if(e+1>=f){return}var l=-1;var m=g;var n=$.ig.MathUtil.prototype.g(j-h,k-i);if(n==0){for(var o=e+1;o<f;++o){var p=c(b(o));var q=d(b(o));if($.ig.util.isNaN(p)||$.ig.util.isNaN(q)){continue}var r=$.ig.MathUtil.prototype.g(j-p,k-q);if(r>=m){m=r;l=o}}}else{var s=j-h;var t=k-i;for(var u=e+1;u<f;++u){var v=c(b(u));var w=d(b(u));if($.ig.util.isNaN(v)||$.ig.util.isNaN(w)){continue}var x=NaN;var y=c(b(u))-h;var z=d(b(u))-i;var aa=s*y+t*z;if(aa<=0){x=$.ig.MathUtil.prototype.g(h-v,i-w)}else{var ab=s*s+t*t;if(ab<=aa){x=$.ig.MathUtil.prototype.g(j-v,k-w)}else{var ac=aa/ab;x=$.ig.MathUtil.prototype.g(h+ac*s-v,i+ac*t-w)}}if(x>=m){m=x;l=u}}}if(l!=-1){$$t.$w.e(a,b,c,d,e,l,g);a.add(b(l));$$t.$w.e(a,b,c,d,l,f,g)}return},$type:new $.ig.Type("Flattener",$.ig.$ot)},true);$c("FastFlattener:x","Object",{init:function(){$.ig.$op.init.call(this)},e:function(a,b,c,d,e,f){if(d>e){return a}var g=b[d];var h=c[d];while(($.ig.util.isNaN(g)||$.ig.util.isNaN(h))&&d<e){++d;g=b[d];h=c[d]}var i=b[e];var j=c[e];while(($.ig.util.isNaN(i)||$.ig.util.isNaN(j))&&d<e){--e;i=b[e];j=c[e]}if(d==e){a.add(d);return a}a.add(d);$$t.$x.h(a,b,c,d,e,f);a.add(e);return a},c:function(a,b,c,d,e){var f;var g;if(c){f=0;g=1}else if(d){f=0;g=2}else{f=2;g=3}return $$t.$x.d(a,b,f,g,e)},b:function(a,b,c,d,e){var f=new $$4.y($$0.$ap.$type,0);var g=$$t.$x.a(f,b,c,d,0,a-1,e);return g},d:function(a,b,c,d,e){var f=new $$4.y($$0.$ap.$type,0);$$t.$x.g(f,b,c,d,0,a-1,e);return f},a:function(a,b,c,d,e,f,g){var h=$$t.$aa.instance().chunkingAmount();if(f-e+1<=h){return $$t.$x.f(a,b,c,d,e,f,g)}var i=a;if(h<0){for(var j=e;j<=f;j++){i.add(j)}return i}var k=e;var l=f;var m=l-k+1;while(m>0){if(m<=h){$$t.$x.f(i,b,c,d,k,l,g);k=l+1}else{var n=k+h-1;$$t.$x.f(i,b,c,d,k,n,g);k=n+1}m=l-k+1}return i},f:function(a,b,c,d,e,f,g){var h;var i;if(c){h=0;i=1}else if(d){h=0;i=2}else{h=2;i=3}return $$t.$x.g(a,b,h,i,e,f,g)},g:function(a,b,c,d,e,f,g){if(e>f){return a}var h=b.__inner[e];var i,j;i=h[c];j=h[d];while(($.ig.util.isNaN(i)||$.ig.util.isNaN(j))&&e<f){++e;h=b.__inner[e];i=h[c];j=h[d]}var k=b.__inner[f];var l,m;l=k[c];m=k[d];while(($.ig.util.isNaN(l)||$.ig.util.isNaN(m))&&e<f){--f;k=b.__inner[f];l=k[c];m=k[d]}if(e==f){a.add(e);return a}a.add(e);$$t.$x.i(a,b,c,d,e,f,g);a.add(f);return a},h:function(a,b,c,d,e,f){var g=b[d];var h=c[d];while(($.ig.util.isNaN(g)||$.ig.util.isNaN(h))&&d<e){++d;g=b[d];h=c[d]}var i=b[e];var j=c[e];while(($.ig.util.isNaN(i)||$.ig.util.isNaN(j))&&d<e){--e;i=b[e];j=c[e]}if(d+1>=e){return}var k=-1;var l=f*f;var m;var n;m=i-g;n=j-h;var o=m*m+n*n;if(o==0){for(var p=d+1;p<e;++p){var q=b[p];var r=c[p];if($.ig.util.isNaN(q)||$.ig.util.isNaN(r)){continue}m=i-q;n=j-r;var s=m*m+n*n;if(s>=l){l=s;k=p}}}else{var t=i-g;var u=j-h;for(var v=d+1;v<e;++v){var w=b[v];var x=c[v];if($.ig.util.isNaN(w)||$.ig.util.isNaN(x)){continue}var y=NaN;var z=b[v]-g;var aa=c[v]-h;var ab=t*z+u*aa;if(ab<=0){m=g-w;n=h-x;y=m*m+n*n}else{var ac=t*t+u*u;if(ac<=ab){m=i-w;n=j-x;y=m*m+n*n}else{var ad=ab/ac;m=g+ad*t-w;n=h+ad*u-x;y=m*m+n*n}}if(y>=l){l=y;k=v}}}if(k!=-1){$$t.$x.h(a,b,c,d,k,f);a.add(k);$$t.$x.h(a,b,c,k,e,f)}return},i:function(a,b,c,d,e,f,g){var h=b.__inner[e];var i,j;i=h[c];j=h[d];while(i!=i||j!=j&&e<f){++e;h=b.__inner[e];i=h[c];j=h[d]}var k=b.__inner[f];var l,m;l=k[c];m=k[d];while(l!=l||m!=m&&e<f){--f;k=b.__inner[f];l=k[c];m=k[d]}if(e+1>=f){return}var n=-1;var o=g*g;var p;var q;p=l-i;q=m-j;var r=p*p+q*q;if(r==0){for(var s=e+1;s<f;++s){var t=b.__inner[s];var u,v;u=t[c];v=t[d];if(u!=u||v!=v){continue}p=l-u;q=m-v;var w=p*p+q*q;if(w>=o){o=w;n=s}}}else{var x=l-i;var y=m-j;for(var z=e+1;z<f;++z){var aa=b.__inner[z];var ab,ac;ab=aa[c];ac=aa[d];if(ab!=ab||ac!=ac){continue}var ad=NaN;var ae=ab-i;var af=ac-j;var ag=x*ae+y*af;if(ag<=0){p=i-ab;q=j-ac;ad=p*p+q*q}else{var ah=x*x+y*y;if(ah<=ag){p=l-ab;q=m-ac;ad=p*p+q*q}else{var ai=ag/ah;p=i+ai*x-ab;q=j+ai*y-ac;ad=p*p+q*q}}if(ad>=o){o=ad;n=z}}}if(n!=-1){$$t.$x.i(a,b,c,d,e,n,g);a.add(n);$$t.$x.i(a,b,c,d,n,f,g)}return},$type:new $.ig.Type("FastFlattener",$.ig.$ot)},true);$c("SpiralFlattener:y","Object",{init:function(){$.ig.$op.init.call(this)},a:function(a,b,c,d,e){if($.ig.util.isNaN(e)||e<=0){e=1}var f=new $$4.y(Number,0);var g=new $$4.ab($$t.$z.$type);var h=(d-b)/(c-a);var i=b-h*a;var j=h*h;var k=i*i;var l=i*h;g.push(function(){var $ret=new $$t.z;$ret.a=0;$ret.b=1;return $ret}());while(g.count()!=0){var m=g.pop();var n=b+m.a*(d-b);var o=a+m.a*(c-a);var p=o*o;var q=p*o;var r=b+m.b*(d-b);var s=a+m.b*(c-a);var t=s*s;var u=t*s;var v;if(h==0){v=k*(s-o)/2+l*(t-p)/2+j*(u-q)/6}else{v=(Math.pow(i+h*s,3)-Math.pow(i+h*o,3))/(6*h)}var w=.5*n*r*Math.sin(s-o);if(v-w>e){var x=.5*(m.a+m.b);g.push(function(){var $ret=new $$t.z;$ret.a=x;$ret.b=m.b;return $ret}());g.push(function(){var $ret=new $$t.z;$ret.a=m.a;$ret.b=x;return $ret}())}else{f.add(m.a)}}f.add(1);return f},$type:new $.ig.Type("SpiralFlattener",$.ig.$ot)},true);$c("SpiralTodo:z","Object",{init:function(){$.ig.$op.init.call(this)},a:0,b:0,$type:new $.ig.Type("SpiralTodo",$.ig.$ot)},true);$c("FlattenerSettings:aa","Object",{init:function(){$.ig.$op.init.call(this);this.chunkingAmount(3e3)},instance:function(){if($$t.$aa.a==null){$$t.$aa.a=new $$t.aa}return $$t.$aa.a},_chunkingAmount:0,chunkingAmount:function(a){if(arguments.length===1){this._chunkingAmount=a;return a}else{return this._chunkingAmount}},$type:new $.ig.Type("FlattenerSettings",$.ig.$ot)},true);$c("GeometryUtil:ab","Object",{init:function(){$.ig.$op.init.call(this)},n:function(a){if($.ig.util.isNaN(a)||Number.isInfinity(a)){return a}while(a>360){a-=360}while(a<0){a+=360}return a},g:function(a){return Math.atan(a)},o:function(a,b){return(b.__y-a.__y)/(b.__x-a.__x)},i:function(a){return 1-Math.pow(a.height()/2,2)/Math.pow(a.width()/2,2)},x:function(a,b,c,d,e){var f=Math.cos(a);var g=Math.sin(a);var h=Math.sqrt(d*d/(1-b*Math.pow(f,2)));h*=e;return{__x:h*f+c.__x,__y:h*g+c.__y,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},t:function(a,b,c,d,e){var f;if(c){f=$$t.$ab.u({__x:a/2,__y:b/2,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},d,e)}else{f={__x:a/2,__y:b/2,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}return f},u:function(a,b,c){b=b/180*Math.PI;var d=a.__y+c*Math.sin(b);var e=a.__x+c*Math.cos(b);return{__x:e,__y:d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},w:function(a,b,c){var d=b.__x-a.__x;var e=b.__y-a.__y;var f=Math.sqrt(d*d+e*e);d=d/f*c;e=e/f*c;return{__x:a.__x+d,__y:a.__y+e,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},k:function(a,b){var c=Math.abs(b.__x-a.__x);var d=Math.abs(b.__y-a.__y);return Math.sqrt(c*c+d*d)},v:function(a,b,c,d,e){return $.ig.CoreGeometryUtil.prototype.c(a,b,c,d,e)},j:function(a,b){var c=Math.sqrt(Math.pow(b.__x-a.__x,2)+Math.pow(b.__y-a.__y,2));var d=Math.acos((b.__x-a.__x)/c);if(b.__y-a.__y<0){d=2*Math.PI-d}return d},f:function(a,b,c,d,e,f){if($.ig.util.isNaN(c)||$.ig.util.isNaN(d)||$.ig.util.isNaN(e)){return false}var g=e*e;var h=f*f;var i=a.__x-b.__x;var j=a.__y-b.__y;if(i>g||j>g){return false}var k=i*i+j*j;if(k>g){return false}if(k<h){return false}var l=Math.atan2(j,i);return $$t.$ab.b(l,c,d)},b:function(a,b,c){var d=$.ig.MathUtil.prototype.f(a);var e=$.ig.MathUtil.prototype.f(b);var f=$.ig.MathUtil.prototype.f(c);d=$$t.$ab.n(d);var g=Math.min(e,f);var h=Math.max(e,f);return d>g&&d<h||d-360>g&&d-360<h||d+360>g&&d+360<h},y:function(a,b,c,d){var e={__x:a.__x+Math.cos(b)*d,__y:a.__y+Math.sin(b)*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var f={__x:a.__x+Math.cos(c)*d,__y:a.__y+Math.sin(c)*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var g=new $$4.y($$a.$y.$type,0);g.add(e);g.add(f);g.add(a);var h=$.ig.MathUtil.prototype.f(b);var i=$.ig.MathUtil.prototype.f(c);h=$$t.$ab.n(h);i=$$t.$ab.n(i);if(0>h&&0<i||360>h&&360<i||i<h){g.add($$t.$ab.u(a,0,d))}if(90>h&&90<i){g.add($$t.$ab.u(a,90,d))}if(180>h&&180<i){g.add($$t.$ab.u(a,180,d))}if(270>h&&270<i){g.add($$t.$ab.u(a,270,d))}var j=1.7976931348623157e308;var k=1.7976931348623157e308;var l=-1.7976931348623157e308;var m=-1.7976931348623157e308;var o=g.getEnumerator();while(o.moveNext()){var n=o.current();j=Math.min(j,n.__x);k=Math.min(k,n.__y);l=Math.max(l,n.__x);m=Math.max(m,n.__y)}return new $$a.ae(0,j,k,l-j,m-k)},c:function(a,b,c){var d=a.__x-b.__x;var e=a.__y-b.__y;var f=d*d+e*e;var g=c*c;return f<g},r:function(a,b,c,d){var e=a.__x-c.__x;var f=a.__y-c.__y;var g=b.__x-c.__x;var h=b.__y-c.__y;var i=g-e;var j=h-f;var k=Math.sqrt(i*i+j*j);var l=e*h-g*f;var m=d*d;var n=k*k;var o=l*l;var p=m*n-o;if(p<0){return new $$6.u($$a.$y.$type,$$a.$y.$type,{__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},{__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName})}var q=1;if(j<0){q=-1}var r=(l*j+q*i*Math.sqrt(p))/n;var s=(l*j-q*i*Math.sqrt(p))/n;var t=(-1*l*i+Math.abs(j)*Math.sqrt(p))/n;var u=(-1*l*i-Math.abs(j)*Math.sqrt(p))/n;return new $$6.u($$a.$y.$type,$$a.$y.$type,{__x:r+c.__x,__y:t+c.__y,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName},{__x:s+c.__x,__y:u+c.__y,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName})},d:function(a,b,c,d){var e=d*d;var f=b.__x;var g=b.__y;var h=c.__x;var i=c.__y;var j=a.__x;var k=a.__y;if(g==i){var l=Math.abs(g-k)<d;var m=j>=Math.min(f,h)-d&&j<=Math.max(f,h)+d;if(l&&m){return true}else{return false}}if(f==h){var n=Math.abs(f-j)<d;var o=k>=Math.min(g,i)-d&&k<=Math.max(g,i)+d;if(n&&o){return true}else{return false}}var p=h-f;var q=i-g;var r=p*p+q*q;if(r==0){return(j-f)*(j-f)+(k-g)*(k-g)<e}var s=((j-f)*p+(k-g)*q)/r;s=s<0?0:s>1?1:s;var t=f+p*s;var u=g+q*s;var v=(t-j)*(t-j)+(u-k)*(u-k);if(v<e){return true}return false},h:function(a,b,c){var d=b.__x;var e=b.__y;var f=c.__x;var g=c.__y;var h=a.__x;var i=a.__y;var j=f-d;var k=g-e;var l=j*j+k*k;if(l==0){return(h-d)*(h-d)+(i-e)*(i-e)}var m=((h-d)*j+(i-e)*k)/l;m=m<0?0:m>1?1:m;var n=d+j*m;var o=e+k*m;var p=(n-h)*(n-h)+(o-i)*(o-i);return p},m:function(a,b,c){var d=b.__x;var e=b.__y;var f=c.__x;var g=c.__y;var h=a.__x;var i=a.__y;var j=f-d;var k=g-e;var l=j*j+k*k;if(l==0){return 0}var m=((h-d)*j+(i-e)*k)/l;m=m<0?0:m>1?1:m;return m},e:function(a,b,c,d){var e;var f;var g=d*d;var h=c.count();if(h==0){return(a.__x-b.__x)*(a.__x-b.__x)+(a.__y-b.__y)*(a.__y-b.__y)<g}var i=a.__x;var j=a.__y;for(var k=0;k<h;k++){if(k==0){f=c.item(k);e=b}else{f=c.item(k);e=c.item(k-1)}var l=e.__x;var m=e.__y;var n=f.__x;var o=f.__y;if(m==o){var p=Math.abs(m-j)<d;var q=i>=Math.min(l,n)-d&&i<=Math.max(l,n)+d;if(p&&q){return true}else{continue}}if(l==n){var r=Math.abs(l-i)<d;var s=j>=Math.min(m,o)-d&&j<=Math.max(m,o)+d;if(r&&s){return true}else{continue}}var t=n-l;var u=o-m;var v=t*t+u*u;if(v==0){return(i-l)*(i-l)+(j-m)*(j-m)<g}var w=((i-l)*t+(j-m)*u)/v;w=w<0?0:w>1?1:w;var x=l+t*w;var y=m+u*w;var z=(x-i)*(x-i)+(y-j)*(y-j);if(z<g){return true}}return false},l:function(a,b,c,d){var e=Math.abs(Math.cos(b));var f=Math.abs(Math.sin(b));var g=c*.5;var h=d*.5;var i=e*h-f*g;if(a*a>=i*i){var j=e*g+f*h+Math.sqrt(a*a-i*i);var k=j*e-g;var l=j*f-h;if(k>0&&l>0){return j}else if(k>0){return(a+g)/e}else if(l>0){return(a+h)/f}else{return 0}}else{if(i>0){return(a+g)/e}else if(i<0){return(a+h)/f}else{return 0}}},q:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;h=e.__x-d.__x;i=e.__y-d.__y;j=h*h+i*i;k=2*(h*(d.__x-a)+i*(d.__y-b));l=(d.__x-a)*(d.__x-a)+(d.__y-b)*(d.__y-b)-c*c;m=k*k-4*j*l;if(j<=1e-7||m<0){f={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};g={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};return{ret:0,p5:f,p6:g}}else if(m==0){n=-k/(2*j);f={__x:d.__x+n*h,__y:d.__y+n*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};g={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};return{ret:1,p5:f,p6:g}}else{n=(-k+Math.sqrt(m))/(2*j);f={__x:d.__x+n*h,__y:d.__y+n*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};n=(-k-Math.sqrt(m))/(2*j);g={__x:d.__x+n*h,__y:d.__y+n*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};return{ret:2,p5:f,p6:g}}},p:function(a,b,c,d,e,f,g){var h,i,j,k,l,m;h=e.__x-d.__x;i=e.__y-d.__y;j=h*h+i*i;k=2*(h*(d.__x-a)+i*(d.__y-b));l=(d.__x-a)*(d.__x-a)+(d.__y-b)*(d.__y-b)-c*c;m=k*k-4*j*l;if(j<=1e-7||m<0||m==0){f={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};g={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};return{ret:0,p5:f,p6:g}}else{var n=0;var o=(-k+Math.sqrt(m))/(2*j);var p=(-k-Math.sqrt(m))/(2*j);if(o>=0&&o<=1){n++;f={__x:d.__x+o*h,__y:d.__y+o*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,
typeName:$.ig.$op.typeName};if(p>=0&&p<=1){n++;g={__x:d.__x+p*h,__y:d.__y+p*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}else{g={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}}else{g={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};if(p>=0&&p<=1){n++;f={__x:d.__x+p*h,__y:d.__y+p*i,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}else{f={__x:NaN,__y:NaN,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}}return{ret:n,p5:f,p6:g}}},s:function(a,b,c,d,e){var f=new $$4.y($$a.$y.$type,0);var g={__x:a.left(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var h={__x:a.right(),__y:a.bottom(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var i={__x:a.left(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var j={__x:a.right(),__y:a.top(),$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};var k=c.__y-a.bottom();var l=c.__y-a.top();var m=c.__x-a.left();var n=c.__x-a.right();if(Math.sqrt(k*k+m*m)<b){f.add(g)}if(Math.sqrt(k*k+n*n)<b){f.add(h)}if(Math.sqrt(l*l+m*m)<b){f.add(i)}if(Math.sqrt(l*l+n*n)<b){f.add(j)}var o,p;var q=function(){var r=$$t.$ab.p(c.__x,c.__y,b,g,h,o,p);o=r.p5;p=r.p6;return r.ret}();if(q>0){f.add(o)}if(q>1){f.add(p)}q=function(){var r=$$t.$ab.p(c.__x,c.__y,b,g,i,o,p);o=r.p5;p=r.p6;return r.ret}();if(q>0){f.add(o)}if(q>1){f.add(p)}q=function(){var r=$$t.$ab.p(c.__x,c.__y,b,j,i,o,p);o=r.p5;p=r.p6;return r.ret}();if(q>0){f.add(o)}if(q>1){f.add(p)}q=function(){var r=$$t.$ab.p(c.__x,c.__y,b,j,h,o,p);o=r.p5;p=r.p6;return r.ret}();if(q>0){f.add(o)}if(q>1){f.add(p)}if(f.count()==0){d=-1;e=-1;return{p3:d,p4:e}}d=1.7976931348623157e308;e=-1.7976931348623157e308;var r=1.7976931348623157e308;var s=-1.7976931348623157e308;for(var t=0;t<f.count();t++){var u=$$t.$ab.j(c,f.__inner[t]);if(u<d){d=u}if(u>e){e=u}if(u<Math.PI&&u>s){s=u}if(u>Math.PI&&u<s){r=u}}if(e-d>Math.PI){d=r;e=s}return{p3:d,p4:e}},a:function(a,b,c,d){var e=(b.__x-a.__x)*(d.__y-c.__y)-(b.__y-a.__y)*(d.__x-c.__x);var f=(a.__y-c.__y)*(d.__x-c.__x)-(a.__x-c.__x)*(d.__y-c.__y);var g=(a.__y-c.__y)*(b.__x-a.__x)-(a.__x-c.__x)*(b.__y-a.__y);if(e==0){return f==0&&g==0}var h=f/e;var i=g/e;return h>=0&&h<=1&&(i>=0&&i<=1)},$type:new $.ig.Type("GeometryUtil",$.ig.$ot)},true);$c("AngleSimplifier:ac","Object",{init:function(){$.ig.$op.init.call(this)},a:function(a){if($.ig.util.isNaN(a)||Number.isInfinity(a)){return a}while(a>360){a-=360}while(a<0){a+=360}return a},$type:new $.ig.Type("AngleSimplifier",$.ig.$ot)},true);$c("PathFigureUtil:ad","Object",{init:function(){$.ig.$op.init.call(this)},b:function(a){var b=new $$a.ba;var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add($$t.$ad.a(c))}return b},a:function(a){if(a==null){return null}var b=new $$a.bd;var d=a.__segments.getEnumerator();while(d.moveNext()){var c=d.current();switch(c.a()){case 4:var e=c;var f=new $$a.bi;f._b=e._b;f._e=e._e;f._c=e._c;f._f=e._f;f._d=e._d;b.add(f);break;case 0:var g=c;var h=new $$a.be(1);h.c(g.c());b.add(h);break;case 3:var i=c;var j=new $$a.bh;var l=i.__points.getEnumerator();while(l.moveNext()){var k=l.current();j.__points.add(k)}b.add(j);break}}return function(){var $ret=new $$a.a9;$ret.isClosed(a.__isClosed);$ret.isFilled(a.__isFilled);$ret.startPoint(a.__startPoint);$ret.segments(b);return $ret}()},$type:new $.ig.Type("PathFigureUtil",$.ig.$ot)},true);$c("PolygonUtil:ae","Object",{init:function(){$.ig.$op.init.call(this)},b:function(a,b){if(a==null){return false}var c=a.count();if(c<4){return false}var d=false;for(var e=0,f=c-1;e<c;f=e++){if(a.item(e).__y>b.__y!=a.item(f).__y>b.__y&&b.__x<(a.item(f).__x-a.item(e).__x)*(b.__y-a.item(e).__y)/(a.item(f).__y-a.item(e).__y)+a.item(e).__x){d=!d}}return d},a:function(a,b){if(a==null){return false}var c=a.length;if(c<4){return false}var d=false;for(var e=0,f=c-1;e<c;f=e++){if(a[e].__y>b.__y!=a[f].__y>b.__y&&b.__x<(a[f].__x-a[e].__x)*(b.__y-a[e].__y)/(a[f].__y-a[e].__y)+a[e].__x){d=!d}}return d},$type:new $.ig.Type("PolygonUtil",$.ig.$ot)},true);$c("PolySimplification:af","Object",{init:function(){$.ig.$op.init.call(this)},b:function(a,b){var c=a._c;var d=a._d;if(c.length==0){return 0}var e=0;var f=0;var g=b*b;e++;var h;var i;var j;for(var k=0;k<c.length;k++){h=c[k]-c[f];i=d[k]-d[f];j=h*h+i*i;if(j>g){c[e]=c[k];d[e]=d[k];e++;f=k}}return e},a:function(a,b){var c=b.__x-a.__x;var d=b.__y-a.__y;return c*c+d*d},$type:new $.ig.Type("PolySimplification",$.ig.$ot)},true);$c("ISmartPlaceable:ai","Object",{$type:new $.ig.Type("ISmartPlaceable",null)},true);$c("SmartPlaceableWrapper$1:ag","Object",{$t:null,init:function($t){this.$t=$t;if(!this.hasOwnProperty("$type")){this.$type=this.$type.specialize(this.$t)}this._elementDesiredSize=new $$a.af;$.ig.$op.init.call(this);this.noWiggle(false)},_noWiggle:false,noWiggle:function(a){if(arguments.length===1){this._noWiggle=a;return a}else{return this._noWiggle}},c:null,element:function(a){if(arguments.length===1){this.c=a;return a}else{return this.c}},_elementLocationResult:null,elementLocationResult:function(a){if(arguments.length===1){this._elementLocationResult=a;return a}else{return this._elementLocationResult}},_originalLocation:null,originalLocation:function(a){if(arguments.length===1){this._originalLocation=a;return a}else{return this._originalLocation}},getSmartPositions:function(){if(this.noWiggle()){return this.$type.getStaticFields($$t.$ag.$type).a}else{return this.$type.getStaticFields($$t.$ag.$type).b}},_elementDesiredSize:null,elementDesiredSize:function(a){if(arguments.length===1){this._elementDesiredSize=a;return a}else{return this._elementDesiredSize}},k:function(){return this.elementDesiredSize()},getSmartBounds:function(a){var b=this.k();var c=b.width();var d=b.height();var e;{e=this.h(a,c,d)}return new $$a.ae(0,this.originalLocation().__x+e.__x,this.originalLocation().__y+e.__y,c,d)},opacity:function(a){if(arguments.length===1){this.element().__opacity=a;return a}else{return this.element().__opacity}},smartPosition:function(a){if(arguments.length===1){this.e=a;var b=this.k();var c=b.height();var d=b.width();var e;{e=this.h(this.e,d,c)}this.elementLocationResult({__x:this.originalLocation().__x+e.__x,__y:this.originalLocation().__y+e.__y,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName});return a}else{return this.e}},e:0,h:function(a,b,c){var d=.25;switch(a){case 0:return{__x:-b*d,__y:-c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 1:return{__x:0,__y:-c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 2:return{__x:b*d,__y:-c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 3:return{__x:-b*d,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 4:return{__x:0,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 5:return{__x:b*d,__y:0,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 6:return{__x:-b*d,__y:c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};case 7:return{__x:0,__y:c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName};default:return{__x:b*d,__y:c*d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}}},$type:new $.ig.Type("SmartPlaceableWrapper$1",$.ig.$ot,[$$t.$ai.$type],function(){this.a=[4];this.b=[4,5,2,1,8,7,0,3,6]})},true);$c("SmartPlacer:aj","Object",{init:function(){this.a=new $$4.y($$a.$ae.$type,0);$.ig.$op.init.call(this);this._e=$$a.$ae.empty();this._c=.3;this._b=2},_e:null,_c:0,_b:0,d:function(a){if(a==null){return}var b=1.7976931348623157e308;var c=$$a.$ae.empty();var d=7;var e=false;var h=a.getSmartPositions();for(var g=0;g<h.length;g++){var f=h[g];var i=a.getSmartBounds(f);if(this._e.isEmpty()||this._e.containsRect(i)){var j=0;var l=this.a.getEnumerator();while(l.moveNext()){var k=l.current();j+=$.ig.RectUtil.prototype.i(i,k)}if(j==0){b=j;d=f;c=i;e=true;break}if(j<b){b=j;d=f;c=i;e=true}}}var m=0;if(e){m=b/$.ig.RectUtil.prototype.e(c)}if(!e||m>this._c){a.opacity(0)}else{if(b>0){a.opacity(Math.pow(1-$.ig.MathUtil.prototype.d(0,m,1),this._b))}else{a.opacity(1)}a.smartPosition(d);this.a.add(c)}},a:null,$type:new $.ig.Type("SmartPlacer",$.ig.$ot)},true);$c("PointCollectionUtil:ak","Object",{init:function(){$.ig.$op.init.call(this)},d:function(a,b,c){if(b==null){return}b.clear();if(a.count()>=2){var d=$$t.$w.d(a.count(),function(e){return a.item(e).__x},function(e){return a.item(e).__y},c);var f=d.getEnumerator();while(f.moveNext()){var e=f.current();b.add(a.item(e))}}},g:function(a){var b=Number.POSITIVE_INFINITY;var c=Number.POSITIVE_INFINITY;var d=Number.NEGATIVE_INFINITY;var e=Number.NEGATIVE_INFINITY;var g=a.getEnumerator();while(g.moveNext()){var f=g.current();b=Math.min(b,f.__x);c=Math.min(c,f.__y);d=Math.max(d,f.__x);e=Math.max(e,f.__y)}if(Number.isInfinity(b)||Number.isInfinity(c)||Number.isInfinity(c)||Number.isInfinity(e)){return $$a.$ae.empty()}return new $$a.ae(0,b,c,d-b,e-c)},h:function(a){var b=$$a.$ae.empty();var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.union($$t.$ak.g(c))}return b},i:function(a){var b=Number.POSITIVE_INFINITY;var c=Number.POSITIVE_INFINITY;var d=Number.NEGATIVE_INFINITY;var e=Number.NEGATIVE_INFINITY;var f;for(var g=0;g<a.count();g++){f=a.item(g);b=Math.min(b,f.__x);c=Math.min(c,f.__y);d=Math.max(d,f.__x);e=Math.max(e,f.__y)}if(Number.isInfinity(b)||Number.isInfinity(c)||Number.isInfinity(c)||Number.isInfinity(e)){return $$a.$ae.empty()}return new $$a.ae(0,b,c,d-b,e-c)},j:function(a){if(a==null){return $$a.$ae.empty()}var b=$$a.$ae.empty();var c;for(var d=0;d<a.count();d++){c=a.__inner[d];b.union($$t.$ak.i(c))}return b},k:function(a){var b=$$a.$ae.empty();var c;for(var d=0;d<a.count();d++){c=a.__inner[d];b.union($$t.$ak.i(c))}return b},c:function(a,b,c){var d=a.count();for(var e=0;e<d;e++){c.j(a.item(e))}c.i(null)},e:function(a){var b=0;var c=0;var d=0;var f=a.getEnumerator();while(f.moveNext()){var e=f.current();b+=e.__x;c+=e.__y;d+=1}return{__x:b/d,__y:c/d,$type:$$a.$y.$type,getType:$.ig.$op.getType,getGetHashCode:$.ig.$op.getGetHashCode,typeName:$.ig.$op.typeName}},f:function(a){var b=new $$a.z(0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},b:function(a){var b=new $$4.y($$a.$y.$type,0);var d=a.getEnumerator();while(d.moveNext()){var c=d.current();b.add(c)}return b},a:function(a){var b=new $$4.y($$a.$z.$type,0);var c;var d=a.count();for(var e=0;e<d;e++){c=a.__inner[e];var f=new $$a.z(1,c);b.add(f)}return b},$type:new $.ig.Type("PointCollectionUtil",$.ig.$ot)},true);$$t.$c.bc=new $$6.s(0);$$t.$aa.a=null});(function(factory){if(typeof define==="function"&&define.amd){define("watermark",["jquery"],factory)}else{factory(jQuery)}})(function($){$(document).ready(function(){var wm=$("#__ig_wm__").length>0?$("#__ig_wm__"):$("<div id='__ig_wm__'></div>").appendTo(document.body);wm.css({position:"fixed",bottom:0,right:0,zIndex:1e3}).addClass("ui-igtrialwatermark")})});